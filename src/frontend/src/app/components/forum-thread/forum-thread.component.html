<main>

  <section>
    <header>
      <h3>
        Thread
      </h3>

      <a *ngIf="isSignedIn" id="reply-to-thread"
         routerLink="/forum/new_thread"> >> Reply to this thread</a>
    </header>

    <!-- thread content-->
    <article id="thread-content">
      <div class="user-info">

        <a><h3>{{ displayedThread.user.userName }}</h3></a>

        <img src="{{displayedThread.user.photoUrl}}">

        <p *ngIf="displayedThread.user.isAdmin">Administrator</p>
        <p *ngIf="!displayedThread.user.isAdmin">Resident</p>
      </div>

      <div class="reply-content">
        <h4>Posted on {{displayedThread.created | date: "medium"}}</h4>

        <p>{{displayedThread.content}}</p>
      </div>
    </article>


  </section>

  <section id="replies">
    <header>
      <h4>
        Replies
      </h4>
    </header>
    <!--  thread replies-->
    <article class="thread-reply"
             *ngFor="let reply of displayedThread.replies;">

      <div class="user-info">

        <a><h3>{{ reply.user.userName }}</h3></a>

        <img src="{{reply.user.photoUrl}}">

        <p *ngIf="reply.user.isAdmin">Administrator</p>
        <p *ngIf="!reply.user.isAdmin">Resident</p>
      </div>

      <div class="reply-content">
        <h4>Posted on {{reply.posted | date: "medium"}}</h4>

        <div *ngIf="reply.quote" class="reply-quote">
          <h5>Posted by {{ reply.quote.user.userName }} on {{ reply.quote.posted | date: "medium" }}:</h5>

          <q>{{reply.quote.content}}</q>
        </div>

        <p>{{reply.content}}</p>

        <div class="reply-action-panel"
            *ngIf="isSignedIn">
          <a><i class="quote-icon material-icons md-36 gray">comment</i></a>
        </div>
      </div>

    </article>
  </section>
</main>
